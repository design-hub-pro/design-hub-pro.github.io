<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroBattle Arena - Technical System Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #ffffff;
            font-family: 'Times New Roman', Times, serif;
            overflow: hidden;
        }
        .container {
            width: 95%;
            max-width: 1400px;
            height: 900px;
        }
    </style>
</head>
<body>
    <div class="container">
        <svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
            <defs>
                <!-- Patterns for components -->
                <pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="8" height="8">
                    <path d="M-2,2 l4,-4 M0,8 l8,-8 M6,10 l4,-4" stroke="#666" stroke-width="0.5"/>
                </pattern>
                <pattern id="dots" patternUnits="userSpaceOnUse" width="6" height="6">
                    <circle cx="3" cy="3" r="1" fill="#888"/>
                </pattern>
                <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="8" height="8">
                    <path d="M0,0 l8,8 M8,0 l-8,8" stroke="#555" stroke-width="0.3"/>
                </pattern>

                <!-- Arrowhead markers -->
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
                </marker>
                <marker id="arrowBoth" markerWidth="10" markerHeight="7" refX="5" refY="3.5" orient="auto">
                    <polygon points="0 3.5, 5 0, 10 3.5, 5 7" fill="#333"/>
                </marker>
            </defs>

            <!-- Background -->
            <rect width="1400" height="900" fill="#ffffff"/>

            <!-- Title -->
            <text x="700" y="35" text-anchor="middle" font-family="Times New Roman, serif" font-size="20" font-weight="bold" fill="#000">FIG. 1 - NeuroBattle Arena System Architecture</text>
            <text x="700" y="55" text-anchor="middle" font-family="Times New Roman, serif" font-size="12" fill="#333">(Patent-Style Technical Diagram / 专利风格技术图)</text>

            <!-- Main System Box 100 -->
            <rect x="50" y="80" width="1300" height="780" fill="none" stroke="#000" stroke-width="2"/>
            <text x="700" y="100" text-anchor="middle" font-family="Times New Roman, serif" font-size="14" font-weight="bold" fill="#000">NEUROBATTLE ARENA PLATFORM (100)</text>

            <!-- ===== CLIENT LAYER 110 ===== -->
            <rect x="80" y="120" width="400" height="180" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="280" y="140" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">CLIENT LAYER (110)</text>

            <!-- Web App 111 -->
            <rect x="100" y="160" width="110" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="155" y="185" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Web Application</text>
            <text x="155" y="200" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">React/Vue</text>
            <text x="155" y="213" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(111)</text>

            <!-- Mobile App 112 -->
            <rect x="230" y="160" width="110" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="285" y="185" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Mobile App</text>
            <text x="285" y="200" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">iOS/Android</text>
            <text x="285" y="213" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(112)</text>

            <!-- SDK 113 -->
            <rect x="360" y="160" width="100" height="60" fill="url(#diagonalHatch)" stroke="#000" stroke-width="1"/>
            <text x="410" y="185" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Python SDK</text>
            <text x="410" y="200" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Training Tools</text>
            <text x="410" y="213" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(113)</text>

            <!-- WebSocket Client 114 -->
            <rect x="100" y="235" width="170" height="45" fill="none" stroke="#000" stroke-width="1"/>
            <text x="185" y="260" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">WebSocket Client (Live Battle) (114)</text>

            <!-- Battle Replay 115 -->
            <rect x="290" y="235" width="170" height="45" fill="none" stroke="#000" stroke-width="1"/>
            <text x="375" y="260" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Battle Replay Viewer (115)</text>

            <!-- ===== API GATEWAY 120 ===== -->
            <rect x="520" y="120" width="360" height="100" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="700" y="140" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">API GATEWAY (120)</text>

            <!-- REST API 121 -->
            <rect x="540" y="160" width="100" height="45" fill="none" stroke="#000" stroke-width="1"/>
            <text x="590" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">REST API</text>
            <text x="590" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(121)</text>

            <!-- WebSocket Server 122 -->
            <rect x="660" y="160" width="100" height="45" fill="none" stroke="#000" stroke-width="1"/>
            <text x="710" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">WebSocket</text>
            <text x="710" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(122)</text>

            <!-- Auth 123 -->
            <rect x="780" y="160" width="80" height="45" fill="none" stroke="#000" stroke-width="1"/>
            <text x="820" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Auth/JWT</text>
            <text x="820" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(123)</text>

            <!-- ===== AGENT MANAGEMENT 130 ===== -->
            <rect x="920" y="120" width="400" height="180" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="1120" y="140" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">AGENT MANAGEMENT (130)</text>

            <!-- Agent Upload 131 -->
            <rect x="940" y="160" width="110" height="55" fill="none" stroke="#000" stroke-width="1"/>
            <text x="995" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Agent Upload</text>
            <text x="995" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Service</text>
            <text x="995" y="208" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(131)</text>

            <!-- Code Validator 132 -->
            <rect x="1070" y="160" width="110" height="55" fill="url(#crosshatch)" stroke="#000" stroke-width="1"/>
            <text x="1125" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Code Validator</text>
            <text x="1125" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">& Scanner</text>
            <text x="1125" y="208" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(132)</text>

            <!-- Weight Storage 133 -->
            <rect x="1200" y="160" width="100" height="55" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1250" y="180" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Model Weight</text>
            <text x="1250" y="195" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Storage (S3)</text>
            <text x="1250" y="208" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(133)</text>

            <!-- Agent Registry 134 -->
            <rect x="940" y="230" width="170" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1025" y="255" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Agent Registry & Version Control (134)</text>

            <!-- Sandbox Builder 135 -->
            <rect x="1130" y="230" width="170" height="50" fill="url(#diagonalHatch)" stroke="#000" stroke-width="1"/>
            <text x="1215" y="255" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Docker Sandbox Builder (135)</text>

            <!-- ===== MATCH ENGINE 140 ===== -->
            <rect x="80" y="330" width="400" height="200" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="280" y="350" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">MATCH ENGINE (140)</text>

            <!-- Matchmaking 141 -->
            <rect x="100" y="370" width="120" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="160" y="392" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Matchmaking</text>
            <text x="160" y="407" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Queue (Redis)</text>
            <text x="160" y="418" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(141)</text>

            <!-- Game State 142 -->
            <rect x="240" y="370" width="120" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="300" y="392" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Game State</text>
            <text x="300" y="407" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Manager</text>
            <text x="300" y="418" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(142)</text>

            <!-- Turn Executor 143 -->
            <rect x="100" y="435" width="120" height="50" fill="url(#crosshatch)" stroke="#000" stroke-width="1.5"/>
            <text x="160" y="457" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Turn Executor</text>
            <text x="160" y="472" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Engine</text>
            <text x="160" y="483" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(143)</text>

            <!-- Action Resolver 144 -->
            <rect x="240" y="435" width="120" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="300" y="457" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Action Resolver</text>
            <text x="300" y="472" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">& Damage Calc</text>
            <text x="300" y="483" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(144)</text>

            <!-- Battle Logger 145 -->
            <rect x="380" y="370" width="80" height="115" fill="none" stroke="#000" stroke-width="1"/>
            <text x="420" y="420" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Battle</text>
            <text x="420" y="435" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Logger</text>
            <text x="420" y="455" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(145)</text>

            <!-- ===== SANDBOX EXECUTION 150 ===== -->
            <rect x="520" y="250" width="360" height="180" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="700" y="270" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">SANDBOX EXECUTION (150)</text>

            <!-- Docker Container 151 -->
            <rect x="540" y="295" width="150" height="55" fill="url(#diagonalHatch)" stroke="#000" stroke-width="1.5"/>
            <text x="615" y="317" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Docker Container</text>
            <text x="615" y="332" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Isolated Runtime</text>
            <text x="615" y="345" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(151)</text>

            <!-- ML Runtime 152 -->
            <rect x="710" y="295" width="150" height="55" fill="none" stroke="#000" stroke-width="1"/>
            <text x="785" y="317" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">ML Runtime</text>
            <text x="785" y="332" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">PyTorch/TF/ONNX</text>
            <text x="785" y="345" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(152)</text>

            <!-- Resource Monitor 153 -->
            <rect x="540" y="365" width="150" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="615" y="390" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Resource Monitor</text>
            <text x="615" y="405" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(153)</text>

            <!-- Timeout Handler 154 -->
            <rect x="710" y="365" width="150" height="50" fill="none" stroke="#000" stroke-width="1"/>
            <text x="785" y="390" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Timeout Handler</text>
            <text x="785" y="405" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(154)</text>

            <!-- ===== DATA LAYER 160 ===== -->
            <rect x="920" y="330" width="400" height="200" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="1120" y="350" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">DATA LAYER (160)</text>

            <!-- PostgreSQL 161 -->
            <rect x="940" y="375" width="110" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="995" y="397" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">PostgreSQL</text>
            <text x="995" y="412" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Users/Agents</text>
            <text x="995" y="427" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(161)</text>

            <!-- Redis 162 -->
            <rect x="1070" y="375" width="110" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1125" y="397" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Redis Cache</text>
            <text x="1125" y="412" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Queue/Session</text>
            <text x="1125" y="427" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(162)</text>

            <!-- TimeSeries 163 -->
            <rect x="1200" y="375" width="100" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1250" y="397" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">TimeSeries</text>
            <text x="1250" y="412" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Battle Logs</text>
            <text x="1250" y="427" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(163)</text>

            <!-- ELO Service 164 -->
            <rect x="940" y="450" width="170" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1025" y="475" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">ELO Rating Service</text>
            <text x="1025" y="490" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">& Leaderboard</text>
            <text x="1025" y="503" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(164)</text>

            <!-- Analytics 165 -->
            <rect x="1130" y="450" width="170" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1215" y="475" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Analytics Engine</text>
            <text x="1215" y="490" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Performance Stats</text>
            <text x="1215" y="503" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(165)</text>

            <!-- ===== GAME RULES 170 ===== -->
            <rect x="80" y="560" width="400" height="140" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="280" y="580" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">GAME RULES ENGINE (170)</text>

            <!-- Action Definitions 171 -->
            <rect x="100" y="600" width="110" height="80" fill="none" stroke="#000" stroke-width="1"/>
            <text x="155" y="625" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Action Defs</text>
            <text x="155" y="640" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" fill="#000">Attack/Defend</text>
            <text x="155" y="655" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" fill="#000">Heal/Charge</text>
            <text x="155" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(171)</text>

            <!-- State Vector 172 -->
            <rect x="230" y="600" width="110" height="80" fill="url(#dots)" stroke="#000" stroke-width="1"/>
            <text x="285" y="625" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">State Vector</text>
            <text x="285" y="640" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" fill="#000">HP, Energy</text>
            <text x="285" y="655" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" fill="#000">Buffs, History</text>
            <text x="285" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(172)</text>

            <!-- Win Conditions 173 -->
            <rect x="360" y="600" width="100" height="80" fill="none" stroke="#000" stroke-width="1"/>
            <text x="410" y="630" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Win/Loss</text>
            <text x="410" y="645" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Conditions</text>
            <text x="410" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(173)</text>

            <!-- ===== TOURNAMENT SYSTEM 180 ===== -->
            <rect x="520" y="460" width="360" height="120" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="700" y="480" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">TOURNAMENT SYSTEM (180)</text>

            <!-- Bracket Manager 181 -->
            <rect x="540" y="500" width="100" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="590" y="525" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Bracket</text>
            <text x="590" y="540" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Manager</text>
            <text x="590" y="553" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(181)</text>

            <!-- Scheduler 182 -->
            <rect x="660" y="500" width="100" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="710" y="525" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Match</text>
            <text x="710" y="540" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Scheduler</text>
            <text x="710" y="553" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(182)</text>

            <!-- Rewards 183 -->
            <rect x="780" y="500" width="80" height="60" fill="none" stroke="#000" stroke-width="1"/>
            <text x="820" y="525" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Rewards</text>
            <text x="820" y="540" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">& Badges</text>
            <text x="820" y="553" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(183)</text>

            <!-- ===== SECURITY LAYER 190 ===== -->
            <rect x="520" y="610" width="360" height="90" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="700" y="630" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">SECURITY LAYER (190)</text>

            <!-- Cheat Detection 191 -->
            <rect x="540" y="650" width="100" height="40" fill="none" stroke="#000" stroke-width="1"/>
            <text x="590" y="675" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Cheat Detect (191)</text>

            <!-- Rate Limiter 192 -->
            <rect x="660" y="650" width="100" height="40" fill="none" stroke="#000" stroke-width="1"/>
            <text x="710" y="675" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Rate Limiter (192)</text>

            <!-- Audit Log 193 -->
            <rect x="780" y="650" width="80" height="40" fill="none" stroke="#000" stroke-width="1"/>
            <text x="820" y="675" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Audit Log (193)</text>

            <!-- ===== NOTIFICATION 195 ===== -->
            <rect x="920" y="560" width="400" height="140" fill="none" stroke="#000" stroke-width="1.5"/>
            <text x="1120" y="580" text-anchor="middle" font-family="Times New Roman, serif" font-size="13" font-weight="bold" fill="#000">NOTIFICATION SERVICE (195)</text>

            <!-- Push 196 -->
            <rect x="940" y="610" width="110" height="70" fill="none" stroke="#000" stroke-width="1"/>
            <text x="995" y="640" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Push Notify</text>
            <text x="995" y="655" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Match Ready</text>
            <text x="995" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(196)</text>

            <!-- Email 197 -->
            <rect x="1070" y="610" width="110" height="70" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1125" y="640" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Email Service</text>
            <text x="1125" y="655" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Results/News</text>
            <text x="1125" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(197)</text>

            <!-- Discord 198 -->
            <rect x="1200" y="610" width="100" height="70" fill="none" stroke="#000" stroke-width="1"/>
            <text x="1250" y="640" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Discord/</text>
            <text x="1250" y="655" text-anchor="middle" font-family="Times New Roman, serif" font-size="9" fill="#000">Slack Bot</text>
            <text x="1250" y="670" text-anchor="middle" font-family="Times New Roman, serif" font-size="8" font-weight="bold" fill="#000">(198)</text>

            <!-- ===== DATA FLOW ARROWS ===== -->

            <!-- Client to API Gateway -->
            <line x1="480" y1="200" x2="520" y2="180" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
            <text x="490" y="175" font-family="Times New Roman, serif" font-size="8" fill="#000">HTTP/WS</text>

            <!-- API to Agent Management -->
            <line x1="880" y1="170" x2="920" y2="200" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>

            <!-- API to Match Engine -->
            <line x1="590" y1="220" x2="300" y2="330" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
            <text x="420" y="270" font-family="Times New Roman, serif" font-size="8" fill="#000">Queue Match</text>

            <!-- Match Engine to Sandbox -->
            <line x1="480" y1="420" x2="520" y2="350" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
            <text x="485" y="370" font-family="Times New Roman, serif" font-size="8" fill="#000">Execute</text>

            <!-- Agent Mgmt to Sandbox -->
            <line x1="1025" y1="280" x2="860" y2="320" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
            <text x="920" y="290" font-family="Times New Roman, serif" font-size="8" fill="#000">Load Agent</text>

            <!-- Sandbox to Data Layer -->
            <line x1="880" y1="360" x2="920" y2="420" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>
            <text x="885" y="400" font-family="Times New Roman, serif" font-size="8" fill="#000">Log</text>

            <!-- Match Engine to Game Rules -->
            <line x1="280" y1="530" x2="280" y2="560" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>

            <!-- Match Engine to Tournament -->
            <line x1="480" y1="490" x2="520" y2="510" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>

            <!-- Data Layer to Notification -->
            <line x1="1120" y1="530" x2="1120" y2="560" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead)"/>

            <!-- ===== LEGEND ===== -->
            <rect x="80" y="720" width="350" height="120" fill="none" stroke="#000" stroke-width="1"/>
            <text x="255" y="740" text-anchor="middle" font-family="Times New Roman, serif" font-size="12" font-weight="bold" fill="#000">LEGEND / 图例</text>

            <rect x="100" y="755" width="40" height="20" fill="url(#diagonalHatch)" stroke="#000" stroke-width="1"/>
            <text x="155" y="770" font-family="Times New Roman, serif" font-size="10" fill="#000">Security/Isolated Component</text>

            <rect x="100" y="785" width="40" height="20" fill="url(#crosshatch)" stroke="#000" stroke-width="1"/>
            <text x="155" y="800" font-family="Times New Roman, serif" font-size="10" fill="#000">Core Processing Unit</text>

            <rect x="100" y="815" width="40" height="20" fill="url(#dots)" stroke="#000" stroke-width="1"/>
            <text x="155" y="830" font-family="Times New Roman, serif" font-size="10" fill="#000">Data Structure</text>

            <!-- Component Index -->
            <rect x="460" y="720" width="580" height="120" fill="none" stroke="#000" stroke-width="1"/>
            <text x="750" y="740" text-anchor="middle" font-family="Times New Roman, serif" font-size="12" font-weight="bold" fill="#000">COMPONENT INDEX / 组件索引</text>

            <text x="480" y="760" font-family="Times New Roman, serif" font-size="9" fill="#000">100 - Platform System 平台系统</text>
            <text x="480" y="775" font-family="Times New Roman, serif" font-size="9" fill="#000">110 - Client Layer 客户端层</text>
            <text x="480" y="790" font-family="Times New Roman, serif" font-size="9" fill="#000">120 - API Gateway API网关</text>
            <text x="480" y="805" font-family="Times New Roman, serif" font-size="9" fill="#000">130 - Agent Management 智能体管理</text>
            <text x="480" y="820" font-family="Times New Roman, serif" font-size="9" fill="#000">140 - Match Engine 对战引擎</text>

            <text x="750" y="760" font-family="Times New Roman, serif" font-size="9" fill="#000">150 - Sandbox Execution 沙箱执行</text>
            <text x="750" y="775" font-family="Times New Roman, serif" font-size="9" fill="#000">160 - Data Layer 数据层</text>
            <text x="750" y="790" font-family="Times New Roman, serif" font-size="9" fill="#000">170 - Game Rules 游戏规则</text>
            <text x="750" y="805" font-family="Times New Roman, serif" font-size="9" fill="#000">180 - Tournament 锦标赛系统</text>
            <text x="750" y="820" font-family="Times New Roman, serif" font-size="9" fill="#000">190 - Security 安全层</text>

            <!-- Patent Notice -->
            <text x="1200" y="860" text-anchor="middle" font-family="Times New Roman, serif" font-size="10" font-style="italic" fill="#666">Patent Application Reference Drawing</text>
        </svg>
    </div>
</body>
</html>
